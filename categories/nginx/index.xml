<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>nginx on</title><link>https://blog.mletter.cn/categories/nginx/</link><description>Recent content in nginx on</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 20 Mar 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.mletter.cn/categories/nginx/index.xml" rel="self" type="application/rss+xml"/><item><title>Nginx简单的常规优化</title><link>https://blog.mletter.cn/posts/nginx%E4%BC%98%E5%8C%96/</link><pubDate>Sun, 20 Mar 2022 00:00:00 +0000</pubDate><guid>https://blog.mletter.cn/posts/nginx%E4%BC%98%E5%8C%96/</guid><description>配置nginx的work_process 查看当前服务的CPU核心数量
1[root@containerd-master1 ~]# grep processor /proc/cpuinfo | wc -l 28 如果你需要修改更多的工作进程,请修改配置文件中的work_process字段
auto: 根据系统的CPU自动的设置工作进程数量 1worker_processes 1; # 可选值 auto 配置work_connections 该参数表示每个工作进程最大处理的连接数,CentOS默认连接数为1024,连接数是可以修改的。 如果需要修改ulimit参数,请修改配置文件/etc/security/limits.conf
noproc 是代表最大进程数 nofile 是代表最大文件打开数 本次修改仅仅以Rocky Linux和CentOS为例,不同的系统修改方法可能有所差异.
1* soft nofile 65535 2* hard nofile 65535 配置nginx当中的work_connections
1events { 2 worker_connections 65535; 3 use epoll; 4} 简单的提一嘴ulimit的作用: 当进程打开的文件数目超过此限制时，该进程就会退出。
启用gzip压缩 nginx使用 gzip 进行文件压缩和解压缩,您可以节省带宽并在连接缓慢时提高网站的加载时间。
1server { 2 gzip on; # 开启gzip 3 gzip_vary on; 4 gzip_min_length 10240; 5 gzip_proxied expired no-cache no-store private auth; 6 gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml; 7 gzip_disable &amp;#34;MSIE [1-6]\.</description></item></channel></rss>