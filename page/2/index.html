<!doctype html><html lang=zh dir=auto><head><meta name=generator content="Hugo 0.138.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>太阳可以是蓝色</title>
<meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="ExampleSite description"><meta name=author content="iren."><link rel=canonical href=https://blog.mletter.cn/><link crossorigin=anonymous href=/assets/css/stylesheet.54398d0fb317133a824d0a4034cf0879e64c7449a21217c62f4c262009100d8f.css integrity="sha256-VDmND7MXEzqCTQpANM8IeeZMdEmiEhfGL0wmIAkQDY8=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.mletter.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blog.mletter.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.mletter.cn/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.mletter.cn/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.mletter.cn/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.mletter.cn/index.xml><link rel=alternate type=application/json href=https://blog.mletter.cn/index.json><link rel=alternate hreflang=zh href=https://blog.mletter.cn/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=/view-image.min.js></script><script>window.ViewImage&&ViewImage.init("img")</script><style>:root{--sys-font-family:-apple-system, "PingFang SC", Georgia, 'Nimbus Roman No9 L', 'Hiragino Sans GB', 'Noto Serif SC', 'Microsoft Yahei', 'WenQuanYi Micro Hei', 'ST Heiti', sans-serif;--code-font-family:"JetBrains Mono", Menlo, Monaco, Consolas, "Courier New";--article-font-family:-apple-system, "PingFang SC", var(--base-font-family)}</style><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><meta property="og:url" content="https://blog.mletter.cn/"><meta property="og:site_name" content="太阳可以是蓝色"><meta property="og:title" content="太阳可以是蓝色"><meta property="og:description" content="ExampleSite description"><meta property="og:locale" content="zh"><meta property="og:type" content="website"><meta property="og:image" content="https://blog.mletter.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.mletter.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="太阳可以是蓝色"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"太阳可以是蓝色","url":"https://blog.mletter.cn/","description":"ExampleSite description","logo":"https://blog.mletter.cn/%3Clink%20/%20abs%20url%3E","sameAs":["https://space.bilibili.com/477276392","beilanzhisen@163.com"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.mletter.cn/ accesskey=h title="太阳可以是蓝色 (Alt + H)">太阳可以是蓝色</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.mletter.cn/ title=主页><span class=active>主页</span></a></li><li><a href=https://blog.mletter.cn/posts/ title=文章><span>文章</span></a></li><li><a href=https://blog.mletter.cn/tags/ title=标签><span>标签</span></a></li><li><a href=https://blog.mletter.cn/friends/ title=友联><span>友联</span></a></li><li><a href=https://blog.mletter.cn/about title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img11.360buyimg.com/ddimg/jfs/t1/230118/35/18596/65287/66588c39Ff160a58f/2d89511d823f9e5e.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>南方摩托-飞戈入手记</h2></header><div class=entry-content><p>小摩托-飞戈入手记 Hello 大家好，好久不见啦，最近博客没怎么更新因为工作实在是有点慢(小声嘀咕：狗屁就是不想更新)。开玩笑的啦，忙碌是事实，但一直未能有闲暇时间出游亦是实情，而其中无车亦是关键因素哈哈哈。
话说 22 年的时候我入手过一台力刻（ARIIC）318系列 冬奥灵感版当时一咬牙就花28800元拿下,落地30000呢！
这车子前双碟、对向八活塞卡钳、浮动碟盘，后碟单向双活塞卡钳，还有 BOCH 双通道 ABS 系统，那制动效果，杠杠的！车架高强高钢，操控起来人车合一，钢管轻量化还机器人焊接呢！风格简约又有后现代气质，三段式设计，隔热空间也优化得不错。可惜呀，没陪我走到318就拜拜啦。
仅此图片纪念一下大哥318
300cc踏板动力嘛，提速猛是猛，但车也是真肉啊，再加上是国产车，总有人说国产垃圾的，但是车真的没什么问题。后来我就因为个人原因把它卖啦。好啦好啦，今天重点是我这新车飞戈 250哟。
选型日记 先说说我选车的事儿哈，我本来就不想搞个太大的踏板车，又沉又不喜欢。我在摩托苑里瞅来瞅去，就盯上维多利亚300和维多利亚250了，可维多利亚300没新车，维多利亚250新车发布还得等一阵，那我就去淘二手呗，天天跟车商们周旋，就想找个合适价格。嘿，这时候巧了，朋友说有个车叫飞戈，我当时就懵了，啥？飞戈是啥玩意儿啊？哈哈！于是，我开始深入了解它，查看各种评测和资料。后来我发现，原来是辆新车，基础参数和测评真的很少。
重点在于: 等等…它居然叫梦拉丽莎？维多利亚? 蒙娜丽莎？你们三个到底啥关系哈哈哈.
接着我就跑去摩托苑搜飞戈 250，这一搜不要紧，我发现这车跟维多利亚250从口碑方面比起来好像维多利亚就像是个老大哥，而当时飞戈的250 评价几乎为0…
然后我就看到了官方发布的关于飞戈250的海报图片
&lt;!doctype html> 飞戈250官方海报 ...</p></div><footer class=entry-footer><span title='2024-05-29 00:00:00 +0000 UTC'>五月 29, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 南方摩托-飞戈入手记" href=https://blog.mletter.cn/life-story/3/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img12.360buyimg.com/ddimg/jfs/t1/221585/17/40296/38910/663b8f0aF38d1916d/5d09c604af566108.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>优雅的多阶段构建微服务镜像</h2></header><div class=entry-content><p>借助Maven Wrapper 首先我们说说maven wrapper的使用场景
假设我们所在的团队同时维护多个项目，不同的项目使用的JDK版本不同，使用的maven版本也不同，那么为了支持多项目开发，为了构建运行效果一致，你可能需要在本地管理多个maven版本，这会非常繁琐，从而引出了maven wrapper来解决这个maven版本的管理问题。
版本一致性：通过在mvnw配置中指定 Maven 版本，确保所有开发人员和持续集成环境使用相同的maven版本。 简化批量安装：不需要预先安装maven，直接运行mvnw命令就如安装了mvn一样，从而简化了项目的初始设置和配置。 Maven Wrapper安装方式 maven-wrapper: 提供maven-wrapper.jar下载、安装和运行目标maven发行版。 maven-wrapper-distribution: 提供mvnw/mvnw.cmd脚本发行版， maven-wrapper-plugin: wrapper用于轻松将 Wrapper 安装到项目中的插件。 首先安装maven wrapper,默认情况下安装的是only-script版本，也就是精简版，不需要额外的maven-wrapper.jar。如果你需要安装source版本请使用-Dtype=source参数。 # 假设你的本地已经有了一个特定版本的maven,可以直接通过如下命令进行引入 mvn -N wrapper:wrapper # 当然也可以指定引入的maven版本信息 mvn -N wrapper:wrapper -Dmaven=3.6.1 检查是否安装成功,正常来讲是会出现一个mvnw和mvnw.cmd以及.mvn目录 [root@localhost maven-wrapper]# tree -fa . ├── ./.mvn │ └── ./.mvn/wrapper │ └── ./.mvn/wrapper/maven-wrapper.properties ├── ./mvnw └── ./mvnw.cmd 2 directories, 3 files 修改maven-wrapper.properties定义的路径地址，因为用的是官方地址可能由于墙的问题无法进行下载，我这边采用MinioS3的地址来提前下好相关版本的maven包进行上传。 wrapperVersion=3.3.1 distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.1/apache-maven-3.6.1-bin.zip # 正常修改distributionUrl的地址就可以了 distributionUrl=http://10.1.6.15:10240/software/apache-maven-3.6.1-bin.zip 正常能检测到相关的版本即表示成功
[root@localhost maven-wrapper]# ./mvnw --version Apache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-05T03:00:29+08:00) Maven home: /root/.m2/wrapper/dists/apache-maven-3.6.1/5256b4e Java version: 1.8.0_391, vendor: Oracle Corporation, runtime: /usr/local/java/jre Default locale: en_US, platform encoding: UTF-8 OS name: "linux", version: "4.18.0-372.9.1.el8.x86_64", arch: "amd64", family: "unix" 遇到小问题 如果大家在构建的过程中遇到了小问题可以看看小思路
...</p></div><footer class=entry-footer><span title='2024-05-08 00:00:00 +0000 UTC'>五月 8, 2024</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 优雅的多阶段构建微服务镜像" href=https://blog.mletter.cn/tech/docker/review-docker/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img11.360buyimg.com/ddimg/jfs/t1/244924/12/7691/82854/663216bfF4f4f3c1a/985a4b4d1b72840a.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>旅行日记-目的地-东莞</h2></header><div class=entry-content><p>哎，本来30号就可以到广州的，因为广州的天气所以30号基本上所有到广州的飞机都取消了。真是没办法的，最近广州的雷雨天气太多了，也能理解吧。 索性我就直接改签到了5月1号早上最早的一班飞机飞广州了。
来看看日出的北京国际大兴机场，被誉为“新世界七大奇迹”之首。 日出真的太美咯。 &lt;!doctype html> 大兴国际机场 ...</p></div><footer class=entry-footer><span title='2024-05-01 00:00:00 +0000 UTC'>五月 1, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 旅行日记-目的地-东莞" href=https://blog.mletter.cn/tourists/dongguan/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img10.360buyimg.com/ddimg/jfs/t1/244560/31/7618/14121/661de12eFfa7f6ba5/0239fa873abb0bd5.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>基于SealOS部署高可用的kubernetes集群</h2></header><div class=entry-content><p>配套Bilibili视频已经更新：点我观看
准备SealOS 机器信息如下：
服务器名称 IP Role ready-kubernetes-master1 10.1.11.100 Control-Plane ready-kubernetes-master2 10.1.11.101 Control-Plane ready-kubernetes-master3 10.1.11.102 Control-Plane ready-kubernetes-node1 10.1.11.103 Node ready-kubernetes-node2 10.1.11.104 Node ready-kubernetes-node3 10.1.11.105 Node 通过SealOS部署的前提条件 SealOS For Kubernetes
每个集群节点应该有不同的主机名。主机名不要带下划线。
所有节点的时间需要同步。
需要在 K8s 集群的第一个 master 节点上运行 sealos run 命令，目前集群外的节点不支持集群安装。
建议使用干净的操作系统来创建集群。不要自己装 Docker！
支持大多数 Linux 发行版，例如：Ubuntu、CentOS、Rocky linux。
支持 Docker Hub 中的所有 Kubernetes 版本。
支持使用 Containerd 作为容器运行时。
在公有云上安装请使用私有 IP。
获取当前稳定版本的SealOS列表 # 获取非beta版本 curl --silent "https://api.github.com/repos/labring/sealos/releases" | jq -r 'map(select(.tag_name | test("beta"; "i") | not)) | .[].tag_name' 下载最新稳定版本的SealOS，版本号为v4.3.7 # 在一台主机上执行就行了 VERSION=v4.3.7 wget https://mirror.ghproxy.com/https://github.com/labring/sealos/releases/download/${VERSION}/sealos_${VERSION#v}_linux_amd64.tar.gz \ && tar zxvf sealos_${VERSION#v}_linux_amd64.tar.gz sealos && chmod +x sealos && mv sealos /usr/bin 验证SealOS是否安装完成 [root@localhost ~]# sealos version SealosVersion: buildDate: "2023-10-30T16:19:05Z" compiler: gc gitCommit: f39b2339 gitVersion: 4.3.7 goVersion: go1.20.10 platform: linux/amd64 正常能显示出来版本号信息就表示安装正常。
...</p></div><footer class=entry-footer><span title='2024-04-15 00:00:00 +0000 UTC'>四月 15, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 基于SealOS部署高可用的kubernetes集群" href=https://blog.mletter.cn/tech/kubernetes/sealos/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img13.360buyimg.com/ddimg/jfs/t1/227509/9/15108/245995/65f6f6e1F8dfc4427/2fce5d471f06a599.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>日记-又开始怀念夏天</h2></header><div class=entry-content><p>那一年，午后的阳光总是那么炽热，仿佛能将一切都融化。课间的操场上，同学们的欢声笑语此起彼伏，汗水在他们的额头上闪耀着光芒。我们在这里挥洒着青春，每一次奔跑都是对生活的热爱和对未来的追逐。
放学后的路上，几个好朋友们一边走一边讨论着今天学到的新知识。我们的谈话中充满了好奇和探索，每一步都踏在充满希望的道路上。夏天的风，带着甜甜的花香，也带着哥几个对彼此的鼓励和笑声。
这让我觉得青春是一首永不褪色的歌，而夏天，正是这首歌最美的高潮。在这个季节里，我将用我的笔，记录下每一刻的感动，用心去感受生活的每一分热度。这是我曾经学生时代，是我的青春篇章。
是的，时间的车轮总是单向前行，带走了我们生命中的许多日子，留下了回忆和成长的痕迹。上学的的夏天，那些无忧无虑的日子，仿佛是一段美好的旅程，虽然无法再次经历，但它们在我心中留下了深刻的印记。
摄影 希望这个夏天可以给我带来更加美好的回忆吧
&lt;!doctype html> 需要原图联系: beilanzhisen@163.com
...</p></div><footer class=entry-footer><span title='2024-03-17 00:00:00 +0000 UTC'>三月 17, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 日记-又开始怀念夏天" href=https://blog.mletter.cn/life-story/4/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img12.360buyimg.com/ddimg/jfs/t1/168052/22/37891/82207/65ccb958Fa2667100/adca896d87e12693.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>新春的序章</h2></header><div class=entry-content><p>新的一年 时间过得真快啊，一转眼就是2024年了，窗外的鞭炮声断断续续的传来，似乎在诉说着新春来临的喜悦。
我想这也是"年"带给人们最朴素和最深刻的记忆吧。
我不由自主地回忆起童年欢度春节的情景。虽然人们常说现在的年味渐淡，变得简约而平淡，但仔细深思，其实变的不是年味，而是我们——从孩童成长为成人的我们。
为什么我们会如此怀念儿时的年味？那是因为那时的年是家的团聚，是亲戚间热闹非凡的聚会；是母亲在厨房里忙碌的身影，烹饪出色香俱佳的年夜饭；是父亲和叔叔们门前贴春联、悬挂红灯笼的热闹景象；是我们穿着崭新的衣服，心怀期待地迎接新年；是街头小伙伴点燃的"黑蜘蛛炮"，以及深夜空中绚丽夺目的烟花秀。
如今，尽管我们每个人或许都沉浸在各自生活的喧嚣中，春节的传统习俗可能也随着时间悄然发生了变化，但那份对美好事物的追求和渴望永远不会消失。我们仍然会在春节期间寻找那份年味，那份属于家的温暖和喜悦。
在这个新春之际，我想我们都可以找到属于自己的庆祝方式，无论是与家人围坐一起，还是与朋友欢聚一堂，抑或是独自品味一本好书、听一曲悠扬的音乐。每一个细微的瞬间都是我们生命中的一部分，值得我们去珍惜和纪念。
这一路遇上了很多风景我很喜欢下面看看照片咯
这是在姨姥家门口的村头日落，就拍了两张没多拍哈哈哈
&lt;!doctype html> 当然了，还有两只超级可爱的咩咩羊,不知道小羊羔子现在是不是被宰了……
...</p></div><footer class=entry-footer><span title='2024-02-13 00:00:00 +0000 UTC'>二月 13, 2024</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 新春的序章" href=https://blog.mletter.cn/life-story/2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>管理好内部的代码仓库-GitLab篇</h2></header><div class=entry-content><p>今天聊聊如何来管理我们的代码仓库 在软件开发过程中，代码仓库是一个非常重要的组成部分。它不仅是存储代码的地方，也是团队协作和版本控制的基础。因此，管理好自己的代码仓库至关重要。
本文将介绍如何使用Git来管理自己的代码仓库。
部署GitLab 相较于传动的部署方式比较繁琐，我这里直接采用docker的部署方式来部署gitlab以方便后续管理。
说一下使用Docker来部署的一些痛点：
数据备份：在Docker中运行Gitlab，需要定期备份数据以防止数据丢失。但是备份数据的过程可能会很麻烦，并且需要设置合适的策略来避免数据丢失。所以这是我觉得不管是GitLab还是其他的应用，保证数据的完整可靠性是至关重要的。 版本更新：Docker部署Gitlab需要时刻关注版本更新，需要进行升级或者迁移，主要是数据迁移的数据保障工作需要额外注意。 好了我们带着上面的两点问题，我们先来使用docker部署GitLab然后再慢慢探索。
DockerCompose 我们使用docker-compose来部署gitlab仓库程序，注意镜像版本。如果你是尊贵的ee用户请修改镜像。如果你是普通的ce用户直接复制就行。 version: '3.6' services: web: image: 'gitlab/gitlab-ce:latest' restart: always # 指定gitlab主机名称 hostname: 'gitlab.example.com' environment: GITLAB_OMNIBUS_CONFIG: | # gitlab访问地址 external_url 'http://10.1.6.100' ports: - '80:80' - '443:443' - '2212:22' # 防止与本地的22端口进行冲突 volumes: - '/data/gitlab-app/config:/etc/gitlab' - '/data/gitlab-app/logs:/var/log/gitlab' - '/data/gitlab-app/data:/var/opt/gitlab' shm_size: '256m' 启动gitlab程序 [root@localhost gitlab-app]# docker-compose up -d [+] Running 1/1 ✔ Container gitlab-app-web-1 Started 部署完成后的一些相关设置可以参考官方文档 实际上到此为止，我们的一个代码仓库就已经创建完成了，剩下的工作就是在UI界面点点点。我就不多赘述了主要讲讲如何备份的问题。
...</p></div><footer class=entry-footer><span title='2024-01-16 00:00:00 +0000 UTC'>一月 16, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to 管理好内部的代码仓库-GitLab篇" href=https://blog.mletter.cn/tech/gitlab/repository-management/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://img14.360buyimg.com/ddimg/jfs/t1/177175/31/35833/30306/64cb08eeF5ba90f46/1da6311bbbec8921.jpg alt></figure><header class=entry-header><h2 class=entry-hint-parent>kubernetes基于EFK的日志落地实现</h2></header><div class=entry-content><p>Kubernetes 中比较流行的日志收集解决方案是 Elasticsearch、Fluentd 和 Kibana（EFK）技术栈，也是官方现在比较推荐的一种方案。
Elasticsearch 是一个实时的、分布式的可扩展的搜索引擎，允许进行全文、结构化搜索，它通常用于索引和搜索大量日志数据，也可用于搜索许多不同类型的文档。
Elasticsearch 通常与 Kibana 一起部署，Kibana 是 Elasticsearch 的一个功能强大的数据可视化 Dashboard，Kibana 允许你通过 web 界面来浏览Elasticsearch 日志数据。
Fluentd是一个流行的开源数据收集器，我们将在 Kubernetes 集群节点上安装 Fluentd，通过获取容器日志文件、过滤和转换日志数据，然后将数据传递到 Elasticsearch 集群，在该集群中对其进行索引和存储。
我们先来配置启动一个可扩展的 Elasticsearch 集群，然后在 Kubernetes 集群中创建一个 Kibana 应用，最后通过 DaemonSet 来运行 Fluentd，以便它在每个 Kubernetes 工作节点上都可以运行一个 Pod。
安装 Elasticsearch 集群 先创建一个命名空间，我们将在其中安装所有日志相关的资源对象。
kubectl create ns kube-logging 环境准备 ElasticSearch 安装有最低安装要求，如果安装后 Pod 无法正常启动，请检查是否符合最低要求的配置，要求如下：
节点 CPU最低要求 内存最低要求 elasticsearch-master 核心数>2 内存>2G elasticsearch-data 核心数>1 内存>2G elasticsearch-client 核心数>1 内存>2G 集群节点信息
集群 节点类型 副本数目 存储大小 网络模式 描述 elasticsearch master 3 5Gi ClusterIP 主节点 elasticsearch-data data 3 50Gi ClusterIP 数据节点 elasticsearch-client client 2 无 NodePort 负责处理用户请求 建议使用 StorageClass 来做持久化存储，当然如果你是线上环境建议使用 Local PV 或者 Ceph RBD 之类的存储来持久化 Elasticsearch 的数据。
...</p></div><footer class=entry-footer><span title='2023-12-08 00:00:00 +0000 UTC'>十二月 8, 2023</span>&nbsp;·&nbsp;8 分钟&nbsp;·&nbsp;iren.</footer><a class=entry-link aria-label="post link to kubernetes基于EFK的日志落地实现" href=https://blog.mletter.cn/tech/kubernetes/install-efk/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://blog.mletter.cn/>«&nbsp;上一页&nbsp;
</a><a class=next href=https://blog.mletter.cn/page/3/>下一页&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://blog.mletter.cn/>太阳可以是蓝色</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><br><span id=span style=color:#101011></span>
<script type=text/javascript>function runtime(){const a=new Date("12/07/2020 12:50:18"),r=new Date,c=r.getTime()-a.getTime(),l=24*60*60*1e3,e=c/l,t=Math.floor(e),n=(e-t)*24,s=Math.floor(n),o=(n-s)*60,i=Math.floor(o),d=Math.floor((o-i)*60);document.getElementById("span").innerHTML="已运行: "+t+"天"+s+"小时"+i+"分"+d+"秒"}runtime(),setInterval(runtime,1e3)</script><br><font color=#101011>本站由 <a href=https://www.netlify.com/ rel="noopener noreferrer nofollow" target=_blank>Netlify</a> 提供计算服务, 由 <a href=https://www.netlify.com/ rel="noopener noreferrer nofollow" target=_blank>Netlify</a> 提供全站加速服务。</font><br></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>const menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href").substr(1),n=document.querySelector(`[id='${decodeURIComponent(t)}']`);window.matchMedia("(prefers-reduced-motion: reduce)").matches?n.scrollIntoView():n.scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>const mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.classList.contains("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>