---
// src/components/Comments.astro
interface Props {
  path?: string;
}

const { path } = Astro.props;
const commentPath = path || Astro.url.pathname;
---

<div id="twikoo"></div>

<script is:inline>
  // 使用 CDN 方式
  const twikooScript = document.createElement('script');
  twikooScript.src = 'https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js';
  twikooScript.onload = () => {
    twikoo.init({
      envId: 'https://twikoo.mletter.cn', // 腾讯云环境ID 或 Vercel 地址
      lang: 'zh-CN' // 语言，可选
    });
  };
  document.head.appendChild(twikooScript);
</script>

<style>
  #twikoo {
    margin-top: 2rem;
  }
</style>